# 时间选择组件
> 虽然说这看着是一个小小的时间选择的组件，可是涉及到了许多比较基础的知识,so今天我就用最原始的js+css+html+dom来把这个组件写一下，也好夯实一下基础
大致包括以下这几步：

- 使用HTML规划出组件的整体结构
- 为组件编写CSS样式
- 获取数据(new Date())
- 用户事件的处理

**使用HTML规划结构**：将整个组件分为上下两块内容：header和body，header显示年月，body存日期.

- header部分的下一月的`>`以及上一月的`<`都用标签`&lt`和`&gt`,采用<a>标签的形式
- body部分采用table的形式，thead写死，tbody里面不写内容，是个空标签，内容之后用DOM操作添加

**为组件编写CSS样式**：

- box-shadow添加盒子的阴影
- header部分样式：text-align水平居中，line-height达到接近于垂直居中的效果，`>`和`<`用左右浮动的方式让它显示在两侧
- body部分样式：设置边框的时候两条重合在一起的border会变粗，所以设置`border-collapse: collapse;`就可以解决，点击日期鼠标不会变点击的样式，就设置`cursor: pointer;`即可

**获取数据**：

用new Date(),涉及到的一些关键函数有

```javascript
//本月第一天
new Date(year,month,1);

//上个月最后一天,利用的是它的参数越界自动进退位
new Date(year,month,0);

//本月最后一天
new Date(year,month+1,0);

getFullYear();//获取当前年份，不能用getYear(),因为getYear()是获取距离1900年有多年
getMonth();//获取当前月份
getDay();//获取当前日期在一个星期中是周几
getDate();//获取日期

```

**需要注意的点有**：month是从0-11的，周日用getDay()是0，所以要判断是否是周日然后设置为7

拿到数据之后就可以用DOM渲染数据了

**用户事件的处理方面**：

- 为`<`和`>`添加事件处理函数
- 点击某个日期就完整显示当前日期可以使用事件代理机制，即只在父元素上绑定事件，减少DOM操作，优化性能

- 渲染日期的时候可以在td上添加一个date属性来存放年月，这样点击的获取日期的时候就可以获取到准确的年月而不会出现bug

